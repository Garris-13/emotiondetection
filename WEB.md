表情识别与健康建议系统 - Web界面使用说明
🌐 界面概览
表情识别与健康建议系统提供了一个现代化的Web界面，支持实时表情识别、摄像头监测、AI大模型分析和个性化健康建议生成。

🖥️ 访问方式
1. 本地访问·
2. # 确保API服务器已启动
# Windows: 双击 start_api.bat
# Linux/macOS: ./start_api.sh

# 在浏览器中访问
http://localhost:5000
# 或直接打开文件
file:///path/to/emotion_ui.html

2. 网络访问（局域网内）
3. # 修改API服务器配置
# 在api_server.py中修改：
# app.run(host='0.0.0.0', port=5000, debug=False)

# 其他设备访问（同一网络）
http://[你的IP地址]:5000

🎨 界面布局详解
顶部区域
┌─────────────────────────────────────────────────────┐
│  🎭 表情识别与健康建议系统                           │
│  上传面部图像，系统将识别您的情绪并提供个性化的               │
│  健康建议和情绪管理策略                             │
│  🔄 连接状态：[状态显示]                            │
└─────────────────────────────────────────────────────┘

主体区域（两栏布局）
左侧栏 - 功能控制区
┌─────────────────────────────────────────────┐
│             📤 图像上传区域                  │
│  [上传区]                                   │
│  [预览区]                                   │
│                                             │
│             👤 个人信息设置                  │
│  • 年龄组：▢ 儿童 ▢ 青少年 ▢ 成人 ▢ 老年人  │
│  • 支持系统：▢ 有 ▢ 无                      │
│  • 压力水平：▢ 低 ▢ 中 ▢ 高                 │
│  • 是否首次：▢ 是 ▢ 否                      │
│                                             │
│             📷 摄像头监测                    │
│  [开始监测] [停止监测] [分析历史]            │
│  摄像头索引：▢ 0 ▢ 1 ▢ 2                    │
│  抓拍间隔：▢ 5秒 ▢ 10秒 ▢ 30秒              │
│                                             │
│             🤖 综合分析                      │
│  [AI大模型综合分析]                          │
└─────────────────────────────────────────────────────┘

右侧栏 - 结果显示区
┌─────────────────────────────────────────────┐
│  📊 情绪分析 | 💡 健康建议 | 📈 监测分析 | 🤖 AI分析  │
├─────────────────────────────────────────────┤
│             当前选中的标签页内容             │
│                                             │
│  📊 情绪分析标签页                          │
│  • 主要情绪图标和名称                        │
│  • 置信度显示                               │
│  • 所有情绪概率条形图                        │
│  • 风险评估                                 │
│                                             │
│  💡 健康建议标签页                          │
│  • 立即行动建议                            │
│  • 日常贴士                                │
│  • 长期建议                                │
│  • 紧急提示（如有）                          │
│                                             │
│  📈 监测分析标签页                          │
│  • 监测统计信息                            │
│  • 情绪分布图                              │
│  • 趋势分析                                │
│                                             │
│  🤖 AI大模型分析标签页                      │
│  • 分析类型选择器                          │
│  • 大模型分析结果                          │
│  • 统计信息                                │
│  • 情绪数据概览                            │
└─────────────────────────────────────────────┘


🖱️ 操作指南
第一步：上传和分析图像
1.1 上传图像
方法1：拖放上传
┌─────────────────────────────────────┐
│  🎯 拖放图像文件到此处                  │
│  ┌─────────────────────┐            │
│  │                     │            │
│  │     📁 拖放区       │            │
│  │                     │            │
│  └─────────────────────┘            │
│  📤 或点击选择图像文件                 │
└─────────────────────────────────────┘

方法2：点击选择
点击"选择图像文件"按钮 → 从电脑中选择图像 → 确认
支持的图像格式：
✅ JPG/JPEG
✅ PNG
✅ BMP
✅ GIF（第一帧）

图像要求：
文件大小：≤ 5MB
建议尺寸：≥ 300×300像素
图像内容：清晰的面部图像

1.2 分析图像
上传图像后：
1. 图像预览区域显示上传的图片
2. 出现两个分析按钮：

┌─────────────────────────────────────┐
│ [图片预览]                           │
│                                      │
│  [🔬 分析情绪]    [🤖 AI深度分析]    │
└─────────────────────────────────────┘

• 点击"分析情绪"：只进行表情识别
• 点击"AI深度分析"：表情识别 + 个性化健康建议

第二步：设置个人信息
┌─────────────────────────────────────┐
│        👤 个人信息设置                │
├─────────────────────────────────────┤
│ 年龄组：    ▢ 儿童(0-12岁)          │
│             ▢ 青少年(13-19岁)        │
│             ▢ 成人(20-59岁) [默认]   │
│             ▢ 老年人(60岁以上)       │
│                                      │
│ 是否有支持系统： ▢ 是 [默认]         │
│                 ▢ 否                │
│                                      │
│ 压力水平：    ▢ 低                  │
│              ▢ 中 [默认]            │
│              ▢ 高                   │
│                                      │
│ 是否首次使用： ▢ 是                 │
│               ▢ 否 [默认]           │
└─────────────────────────────────────┘


第三步：使用摄像头监测
3.1 启动监测
1. 设置监测参数：
   - 摄像头索引：选择连接的摄像头（0=默认）
   - 抓拍间隔：5-60秒（建议5-10秒）
   
2. 点击"开始监测"按钮
   ┌─────────────────────────────────────┐
   │ [▶️ 开始监测]                        │
   │                                      │
   │  监测状态：准备就绪 → 运行中         │
   │  抓拍计数：0 → 持续增加              │
   └─────────────────────────────────────┘

3.2 监测状态说明
✅ 正常运行状态：
┌─────────────────────────────────────┐
│  📹 监测运行中                        │
│  已抓拍：15张 | 成功分析：15张       │
│  间隔：5秒                           │
│                                      │
│  [⏸️ 暂停]    [⏹️ 停止]               │
└─────────────────────────────────────┘

⏸️ 暂停状态：
监测暂停，数据采集停止，可以随时恢复
⏹️ 停止状态：
监测完全停止，清空当前监测数据

3.3 查看监测历史
点击"分析监测历史"按钮：
1. 系统读取所有监测数据
2. 分析情绪分布和趋势
3. 显示在"监测分析"标签页

第四步：AI大模型分析
4.1 选择分析类型
🤖 AI大模型分析提供三种分析类型：

┌─────────────────────────────────────┐
│  [❤️ 健康建议]                        │
│  针对情绪数据提供个性化健康建议     │
│                                      │
│  [📊 监测分析]                        │
│  分析监测数据趋势和模式             │
│                                      │
│  [📋 详细报告]                        │
│  生成专业心理学分析报告             │
└─────────────────────────────────────┘

4.2 设置分析范围
分析天数：▢ 7天 [默认]  ▢ 14天  ▢ 30天

• 推荐7天：分析最近一周的情绪变化
• 建议有足够数据（≥10条记录）再进行分析

4.3 查看分析结果
大模型分析结果包含：

┌─────────────────────────────────────┐
│  🤖 AI分析报告                        │
│  🏷️ 模型：qwen-plus                  │
│                                      │
│  📊 分析统计                          │
│  • 分析样本：25条                    │
│  • 时间范围：2024-01-01至2024-01-07 │
│  • 情绪稳定性：76.5%                 │
│                                      │
│  📝 专业分析                          │
│  [详细的个性化分析内容...]           │
│                                      │
│  📈 情绪分布图                        │
│  [情绪分布可视化图表]                │
└─────────────────────────────────────┘